<!-- Static sidebar for desktop -->
<div class="hidden md:flex md:flex-shrink-0">
  <div class="flex flex-col w-64 bg-white border-r border-slate-200 h-screen sticky top-0">
    <div class="flex items-center h-20 flex-shrink-0 px-6">
       <a routerLink="/admin" class="text-2xl font-bold text-primary-600 flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary-500" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.002 6.002 0 0111.336 0 1 1 0 01-1.998.22c-1.33-3.033-5.006-3.033-6.336 0a1 1 0 01-1.998-.22zM10 14a1 1 0 01-1-1v-1a1 1 0 112 0v1a1 1 0 01-1 1z" clip-rule="evenodd" />
          </svg>
          <span class="font-semibold text-slate-800">Admin Panel</span>
        </a>
    </div>
    <div class="flex-1 flex flex-col overflow-y-auto">
      <nav class="flex-1 px-4 py-4 space-y-1">
        <a routerLink="/admin/dashboard" routerLinkActive="bg-primary-50 text-primary-600 font-semibold border-primary-500" [routerLinkActiveOptions]="{exact: true}" class="text-slate-600 hover:bg-slate-100 hover:text-slate-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 border-l-4 border-transparent">
          <svg class="mr-3 h-6 w-6 text-slate-400 group-hover:text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
          Dashboard
        </a>
        <a routerLink="/admin/lessons" routerLinkActive="bg-primary-50 text-primary-600 font-semibold border-primary-500" class="text-slate-600 hover:bg-slate-100 hover:text-slate-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 border-l-4 border-transparent">
          <svg class="mr-3 h-6 w-6 text-slate-400 group-hover:text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m-9-5.747h18" />
          </svg>
          Lessons
        </a>
        <a routerLink="/admin/exercises" routerLinkActive="bg-primary-50 text-primary-600 font-semibold border-primary-500" class="text-slate-600 hover:bg-slate-100 hover:text-slate-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 border-l-4 border-transparent">
          <svg class="mr-3 h-6 w-6 text-slate-400 group-hover:text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
          </svg>
          Exercises
        </a>
        <a routerLink="/admin/users" routerLinkActive="bg-primary-50 text-primary-600 font-semibold border-primary-500" class="text-slate-600 hover:bg-slate-100 hover:text-slate-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 border-l-4 border-transparent">
          <svg class="mr-3 h-6 w-6 text-slate-400 group-hover:text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 1.803" />
          </svg>
          Users
        </a>
      </nav>
      <div class="mt-auto p-4">
         <a routerLink="/" class="text-slate-600 hover:bg-slate-100 hover:text-slate-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150">
           <svg class="mr-3 h-6 w-6 text-slate-400 group-hover:text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
          </svg>
          Back to Site
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Mobile menu button -->
<div class="md:hidden p-4 bg-white border-b border-slate-200 flex justify-between items-center w-full sticky top-0 z-20">
  <a routerLink="/admin" class="text-xl font-bold text-primary-600">Admin Panel</a>
  <button (click)="toggleMobileMenu()" class="text-slate-600">
    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      @if (!isMobileMenuOpen()) {
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      } @else {
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      }
    </svg>
  </button>
</div>

<!-- Mobile menu, show/hide based on menu state. -->
@if (isMobileMenuOpen()) {
  <div class="md:hidden fixed inset-0 flex z-40">
    <div class="fixed inset-0 bg-slate-900/50 backdrop-blur-sm" (click)="toggleMobileMenu()"></div>
    <div class="relative flex-1 flex flex-col max-w-xs w-full bg-white pt-5">
      <nav class="flex-1 px-4 py-4 space-y-1">
        <a routerLink="/admin/dashboard" routerLinkActive="bg-primary-50 text-primary-600 font-semibold" [routerLinkActiveOptions]="{exact: true}" (click)="toggleMobileMenu()" class="text-slate-600 hover:bg-slate-100 group flex items-center px-3 py-2 text-base font-medium rounded-md">Dashboard</a>
        <a routerLink="/admin/lessons" routerLinkActive="bg-primary-50 text-primary-600 font-semibold" (click)="toggleMobileMenu()" class="text-slate-600 hover:bg-slate-100 group flex items-center px-3 py-2 text-base font-medium rounded-md">Lessons</a>
        <a routerLink="/admin/exercises" routerLinkActive="bg-primary-50 text-primary-600 font-semibold" (click)="toggleMobileMenu()" class="text-slate-600 hover:bg-slate-100 group flex items-center px-3 py-2 text-base font-medium rounded-md">Exercises</a>
        <a routerLink="/admin/users" routerLinkActive="bg-primary-50 text-primary-600 font-semibold" (click)="toggleMobileMenu()" class="text-slate-600 hover:bg-slate-100 group flex items-center px-3 py-2 text-base font-medium rounded-md">Users</a>
      </nav>
      <div class="mt-auto p-4 border-t border-slate-200">
         <a routerLink="/" (click)="toggleMobileMenu()" class="text-slate-600 hover:bg-slate-100 group flex items-center px-3 py-2 text-base font-medium rounded-md">Back to Site</a>
      </div>
    </div>
  </div>
}
<div class="h-16 md:hidden"></div> <!-- Spacer for fixed mobile header -->